{"ast":null,"code":"import { BForm, BTable, BFormGroup, BFormInput, BRow, BCol, BButton } from 'bootstrap-vue';\nimport axios from 'axios';\nexport default {\n  name: 'planningComponent',\n  components: {\n    BForm,\n    BTable,\n    BFormGroup,\n    BFormInput,\n    BRow,\n    BCol,\n    BButton\n  },\n  data() {\n    return {\n      planning: [],\n      newTheme: {\n        Theme: '',\n        Date: '',\n        Local: '',\n        Binome: '',\n        Encadreur: '',\n        Jury: ''\n      },\n      fields: [{\n        key: 'Theme',\n        label: 'Thème de Soutenance'\n      }, {\n        key: 'Date',\n        label: 'Date'\n      }, {\n        key: 'Local',\n        label: 'Local'\n      }, {\n        key: 'Binome',\n        label: 'Binôme'\n      }, {\n        key: 'Encadreur',\n        label: 'Encadreur'\n      }, {\n        key: 'Jury',\n        label: 'Jury'\n      }, {\n        key: 'actions',\n        label: 'Actions'\n      }]\n    };\n  },\n  mounted() {\n    this.fetchPlanning();\n  },\n  methods: {\n    async fetchPlanning() {\n      try {\n        const response = await axios.get('http://127.0.0.1:8000/planning/get_planning/');\n        if (response.data.success) {\n          this.planning = response.data.data;\n        } else {\n          console.error('La récupération des données a échoué:', response.data.error);\n        }\n      } catch (error) {\n        console.error('Erreur lors de la récupération des données:', error);\n      }\n    },\n    async handleFormSubmit() {\n      try {\n        const response = await axios.post('http://127.0.0.1:8000/planning/add_theme/', this.newTheme);\n        if (response.data.success) {\n          this.fetchPlanning();\n          this.newTheme = {\n            Theme: '',\n            Date: '',\n            Local: '',\n            Binome: '',\n            Encadreur: '',\n            Jury: ''\n          };\n        } else {\n          console.error('Erreur lors de l\\'ajout du thème:', response.data.error);\n        }\n      } catch (error) {\n        console.error('Erreur lors de l\\'ajout du thème:', error);\n      }\n    },\n    async deleteTheme(id) {\n      try {\n        const response = await axios.post('http://127.0.0.1:8000/planning/delete_theme/', {\n          id\n        });\n        if (response.data.success) {\n          this.fetchPlanning();\n        } else {\n          console.error('Erreur lors de la suppression du thème:', response.data.error);\n        }\n      } catch (error) {\n        console.error('Erreur lors de la suppression du thème:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["BForm","BTable","BFormGroup","BFormInput","BRow","BCol","BButton","axios","name","components","data","planning","newTheme","Theme","Date","Local","Binome","Encadreur","Jury","fields","key","label","mounted","fetchPlanning","methods","response","get","success","console","error","handleFormSubmit","post","deleteTheme","id"],"sources":["src/views/Planning.vue"],"sourcesContent":["<template>\n  <b-form @submit.prevent=\"handleFormSubmit\">\n    <b-container>\n      <div>\n        <b-form-group label=\"Planning:\" style=\"font-weight: bold\" label-cols-lg=\"13\" label-size=\"lg\"></b-form-group>\n      </div>\n      <b-row>\n        <b-col>\n          <b-form-group label=\"Thème:\" style=\"font-weight: bold\">\n            <b-form-input v-model=\"newTheme.Theme\"></b-form-input>\n          </b-form-group>\n        </b-col>\n        <b-col>\n          <b-form-group label=\"Date:\" style=\"font-weight: bold\">\n            <b-form-input v-model=\"newTheme.Date\"></b-form-input>\n          </b-form-group>\n        </b-col>\n        <b-col>\n          <b-form-group label=\"Local:\" style=\"font-weight: bold\">\n            <b-form-input v-model=\"newTheme.Local\"></b-form-input>\n          </b-form-group>\n        </b-col>\n        <b-col>\n          <b-form-group label=\"Binôme:\" style=\"font-weight: bold\">\n            <b-form-input v-model=\"newTheme.Binome\"></b-form-input>\n          </b-form-group>\n        </b-col>\n        <b-col>\n          <b-form-group label=\"Encadreur:\" style=\"font-weight: bold\">\n            <b-form-input v-model=\"newTheme.Encadreur\"></b-form-input>\n          </b-form-group>\n        </b-col>\n        <b-col>\n          <b-form-group label=\"Jury:\" style=\"font-weight: bold\">\n            <b-form-input v-model=\"newTheme.Jury\"></b-form-input>\n          </b-form-group>\n        </b-col>\n        <b-col class=\"align-self-end\">\n          <b-button variant=\"primary\" type=\"submit\">Ajouter Thème</b-button>\n        </b-col>\n      </b-row>\n      <br><br><br>\n      <div>\n        <b-table :items=\"planning\" :fields=\"fields\" responsive>\n          <template #cell(actions)=\"row\">\n            <b-button variant=\"danger\" size=\"sm\" @click=\"deleteTheme(row.item.id)\">Supprimer</b-button>\n          </template>\n        </b-table>\n      </div>\n    </b-container>\n  </b-form>\n</template>\n\n<script>\nimport { BForm, BTable, BFormGroup, BFormInput, BRow, BCol, BButton } from 'bootstrap-vue';\nimport axios from 'axios';\n\nexport default {\n  name: 'planningComponent',\n  components: {\n    BForm, BTable, BFormGroup, BFormInput, BRow, BCol, BButton\n  },\n  data() {\n    return {\n      planning: [],\n      newTheme: {\n        Theme: '',\n        Date: '',\n        Local: '',\n        Binome: '',\n        Encadreur: '',\n        Jury: ''\n      },\n      fields: [\n        { key: 'Theme', label: 'Thème de Soutenance' },\n        { key: 'Date', label: 'Date' },\n        { key: 'Local', label: 'Local' },\n        { key: 'Binome', label: 'Binôme' },\n        { key: 'Encadreur', label: 'Encadreur' },\n        { key: 'Jury', label: 'Jury' },\n        { key: 'actions', label: 'Actions' }\n      ]\n    }\n  },\n  mounted() {\n    this.fetchPlanning();\n  },\n  methods: {\n    async fetchPlanning() {\n      try {\n        const response = await axios.get('http://127.0.0.1:8000/planning/get_planning/');\n        if (response.data.success) {\n          this.planning = response.data.data;\n        } else {\n          console.error('La récupération des données a échoué:', response.data.error);\n        }\n      } catch (error) {\n        console.error('Erreur lors de la récupération des données:', error);\n      }\n    },\n    async handleFormSubmit() {\n      try {\n        const response = await axios.post('http://127.0.0.1:8000/planning/add_theme/', this.newTheme);\n        if (response.data.success) {\n          this.fetchPlanning();\n          this.newTheme = { Theme: '', Date: '', Local: '', Binome: '', Encadreur: '', Jury: '' };\n        } else {\n          console.error('Erreur lors de l\\'ajout du thème:', response.data.error);\n        }\n      } catch (error) {\n        console.error('Erreur lors de l\\'ajout du thème:', error);\n      }\n    },\n    async deleteTheme(id) {\n      try {\n        const response = await axios.post('http://127.0.0.1:8000/planning/delete_theme/', { id });\n        if (response.data.success) {\n          this.fetchPlanning();\n        } else {\n          console.error('Erreur lors de la suppression du thème:', response.data.error);\n        }\n      } catch (error) {\n        console.error('Erreur lors de la suppression du thème:', error);\n      }\n    }\n  }\n}\n</script>\n\n<style>\n/* Ajoutez votre style ici si nécessaire */\n</style>\n"],"mappings":"AAsDA,SAAAA,KAAA,EAAAC,MAAA,EAAAC,UAAA,EAAAC,UAAA,EAAAC,IAAA,EAAAC,IAAA,EAAAC,OAAA;AACA,OAAAC,KAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAT,KAAA;IAAAC,MAAA;IAAAC,UAAA;IAAAC,UAAA;IAAAC,IAAA;IAAAC,IAAA;IAAAC;EACA;EACAI,KAAA;IACA;MACAC,QAAA;MACAC,QAAA;QACAC,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,MAAA;QACAC,SAAA;QACAC,IAAA;MACA;MACAC,MAAA,GACA;QAAAC,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA;IAEA;EACA;EACAC,QAAA;IACA,KAAAC,aAAA;EACA;EACAC,OAAA;IACA,MAAAD,cAAA;MACA;QACA,MAAAE,QAAA,SAAAlB,KAAA,CAAAmB,GAAA;QACA,IAAAD,QAAA,CAAAf,IAAA,CAAAiB,OAAA;UACA,KAAAhB,QAAA,GAAAc,QAAA,CAAAf,IAAA,CAAAA,IAAA;QACA;UACAkB,OAAA,CAAAC,KAAA,0CAAAJ,QAAA,CAAAf,IAAA,CAAAmB,KAAA;QACA;MACA,SAAAA,KAAA;QACAD,OAAA,CAAAC,KAAA,gDAAAA,KAAA;MACA;IACA;IACA,MAAAC,iBAAA;MACA;QACA,MAAAL,QAAA,SAAAlB,KAAA,CAAAwB,IAAA,mDAAAnB,QAAA;QACA,IAAAa,QAAA,CAAAf,IAAA,CAAAiB,OAAA;UACA,KAAAJ,aAAA;UACA,KAAAX,QAAA;YAAAC,KAAA;YAAAC,IAAA;YAAAC,KAAA;YAAAC,MAAA;YAAAC,SAAA;YAAAC,IAAA;UAAA;QACA;UACAU,OAAA,CAAAC,KAAA,sCAAAJ,QAAA,CAAAf,IAAA,CAAAmB,KAAA;QACA;MACA,SAAAA,KAAA;QACAD,OAAA,CAAAC,KAAA,sCAAAA,KAAA;MACA;IACA;IACA,MAAAG,YAAAC,EAAA;MACA;QACA,MAAAR,QAAA,SAAAlB,KAAA,CAAAwB,IAAA;UAAAE;QAAA;QACA,IAAAR,QAAA,CAAAf,IAAA,CAAAiB,OAAA;UACA,KAAAJ,aAAA;QACA;UACAK,OAAA,CAAAC,KAAA,4CAAAJ,QAAA,CAAAf,IAAA,CAAAmB,KAAA;QACA;MACA,SAAAA,KAAA;QACAD,OAAA,CAAAC,KAAA,4CAAAA,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}