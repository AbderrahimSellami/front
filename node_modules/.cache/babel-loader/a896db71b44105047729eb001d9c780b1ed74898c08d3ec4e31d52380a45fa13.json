{"ast":null,"code":"export default {\n  name: 'EnseignantComponent',\n  data() {\n    return {\n      selected: null,\n      list: [{\n        value: \"enseignant\",\n        text: \"Par Enseignant\"\n      }, {\n        value: \"thème\",\n        text: \"Par Thème\"\n      }, {\n        value: \"spécialité\",\n        text: \"Par Spécialité\"\n      }],\n      thèmes: [],\n      fields: [\"Theme\", \"Specialite\", \"actions\"],\n      modal: false,\n      editedTheme: {},\n      // Modèle pour stocker les données du thème en cours de modification\n      editModal: false // Contrôle de la visibilité du formulaire de modification\n    };\n  },\n  mounted() {\n    this.fetchThemes();\n  },\n  methods: {\n    fetchThemes() {\n      fetch('http://127.0.0.1:8000/enseignant/liste-themes/').then(response => response.json()).then(data => {\n        this.thèmes = data.themes;\n      }).catch(error => {\n        console.error('Une erreur s\\'est produite lors de la récupération des thèmes:', error);\n      });\n    },\n    editTheme(theme) {\n      this.editedTheme = {\n        ...theme\n      };\n      this.editModal = true;\n    },\n    updateTheme() {\n      // Logique pour mettre à jour le thème sur le serveur\n      // Une fois mis à jour avec succès, vous pouvez mettre à jour la liste des thèmes ou afficher un message de confirmation\n      this.editModal = false;\n    },\n    deleteRow(theme) {\n      // Logique pour supprimer le thème sur le serveur\n      // Une fois supprimé avec succès, vous pouvez mettre à jour la liste des thèmes ou afficher un message de confirmation\n      this.thèmes = this.thèmes.filter(t => t !== theme);\n    },\n    proposer() {\n      this.modal = true;\n    }\n  }\n};","map":{"version":3,"names":["name","data","selected","list","value","text","thèmes","fields","modal","editedTheme","editModal","mounted","fetchThemes","methods","fetch","then","response","json","themes","catch","error","console","editTheme","theme","updateTheme","deleteRow","filter","t","proposer"],"sources":["src/views/Enseignant.vue"],"sourcesContent":["<template>\n  <b-form>\n    <b-container>\n      <b-navbar toggleable=\"sm\" variant=\"secondary\">\n        <b-navbar-brand class=\"mb-2\" href=\"/planning\">Planning</b-navbar-brand>\n        <b-navbar-brand class=\"mb-2\" href=\"/nondispo\">Saisir la non Disponibilité</b-navbar-brand>\n        <b-navbar-brand class=\"mb-2\" href=\"/listebinomes\">Liste des binômes</b-navbar-brand>\n        <b-navbar-nav type=\"dark\" class=\"ml-auto\">\n          <b-nav-form class=\"d-flex align-items-center\" text=\"Lang\">\n            <b-form-select v-model=\"selected\" :options=\"list\" value-field=\"value\" text-field=\"text\" class=\"mr-sm-2\" style=\"border-color: black\"></b-form-select>\n          </b-nav-form>\n          <b-nav-form class=\"d-flex align-items-center\" text=\"Lang\">\n            <b-button size=\"sm\" class=\"my-2 my-sm-0\" type=\"submit\" variant=\"dark\">Rechercher</b-button>\n          </b-nav-form>\n        </b-navbar-nav>\n      </b-navbar>\n      <br><br>\n      <div>\n        <b-form-group label=\"Liste des thèmes proposés :\" style=\"font-weight: bold\" label-cols-lg=\"13\" label-size=\"lg\">\n        </b-form-group>\n      </div>\n      <br><br><br>\n      <div>\n        <b-table :items=\"thèmes\" :fields=\"fields\">\n          <template #cell(actions)=\"data\">\n            <b-button variant=\"secondary\" size=\"sm\" class=\"mr-1\" ref=\"btnShow\" @click=\"editTheme(data.item)\">Modifier</b-button>\n            <b-button @click=\"deleteRow(data.item)\" variant=\"danger\" size=\"sm\" class=\"mr-2\" ref=\"btnShow1\">Supprimer</b-button>\n          </template>\n        </b-table>\n      </div>\n      <b-button variant=\"primary\" size=\"lg\" class=\"mr-1\" @click=\"proposer()\">Proposer un Thème</b-button>\n      <b-modal id=\"modal-1\" v-model=\"modal\" ref=\"modal\" size=\"lg\" title=\"Proposer un Thème\" @show=\"resetModal\" @hidden=\"resetModal\" @ok=\"handleOk\" header-bg-variant=\"primary\" header-text-variant=\"light\"></b-modal>\n      \n      <!-- Modèle pour afficher le formulaire de modification -->\n      <b-modal id=\"edit-modal\" v-model=\"editModal\" ref=\"editModal\" size=\"lg\" title=\"Modifier un Thème\" @ok=\"updateTheme\" header-bg-variant=\"primary\" header-text-variant=\"light\">\n        <b-form-group label=\"Nom du thème\">\n          <b-form-input v-model=\"editedTheme.Theme\" required></b-form-input>\n        </b-form-group>\n        <b-form-group label=\"Spécialité\">\n          <b-form-input v-model=\"editedTheme.Specialite\" required></b-form-input>\n        </b-form-group>\n      </b-modal>\n    </b-container>\n  </b-form>\n</template>\n\n<script>\nexport default {\n  name: 'EnseignantComponent',\n  data() {\n    return {\n      selected: null,\n      list: [\n        { value: \"enseignant\", text: \"Par Enseignant\" },\n        { value: \"thème\", text: \"Par Thème\" },\n        { value: \"spécialité\", text: \"Par Spécialité\" },\n      ],\n      thèmes: [],\n      fields: [\"Theme\", \"Specialite\", \"actions\"],\n      modal: false,\n      editedTheme: {}, // Modèle pour stocker les données du thème en cours de modification\n      editModal: false, // Contrôle de la visibilité du formulaire de modification\n    }\n  },\n  mounted() {\n    this.fetchThemes();\n  },\n  methods: {\n    fetchThemes() {\n      fetch('http://127.0.0.1:8000/enseignant/liste-themes/')\n        .then(response => response.json())\n        .then(data => {\n          this.thèmes = data.themes;\n        })\n        .catch(error => {\n          console.error('Une erreur s\\'est produite lors de la récupération des thèmes:', error);\n        });\n    },\n    editTheme(theme) {\n      this.editedTheme = { ...theme };\n      this.editModal = true;\n    },\n    updateTheme() {\n      // Logique pour mettre à jour le thème sur le serveur\n      // Une fois mis à jour avec succès, vous pouvez mettre à jour la liste des thèmes ou afficher un message de confirmation\n      this.editModal = false;\n    },\n    deleteRow(theme) {\n  // Logique pour supprimer le thème sur le serveur\n  // Une fois supprimé avec succès, vous pouvez mettre à jour la liste des thèmes ou afficher un message de confirmation\n  this.thèmes = this.thèmes.filter(t => t !== theme);\n},\n    proposer() {\n      this.modal = true;\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n"],"mappings":"AA+CA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,IAAA,GACA;QAAAC,KAAA;QAAAC,IAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,IAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,IAAA;MAAA,EACA;MACAC,MAAA;MACAC,MAAA;MACAC,KAAA;MACAC,WAAA;MAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACAD,YAAA;MACAE,KAAA,mDACAC,IAAA,CAAAC,QAAA,IAAAA,QAAA,CAAAC,IAAA,IACAF,IAAA,CAAAd,IAAA;QACA,KAAAK,MAAA,GAAAL,IAAA,CAAAiB,MAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,mEAAAA,KAAA;MACA;IACA;IACAE,UAAAC,KAAA;MACA,KAAAd,WAAA;QAAA,GAAAc;MAAA;MACA,KAAAb,SAAA;IACA;IACAc,YAAA;MACA;MACA;MACA,KAAAd,SAAA;IACA;IACAe,UAAAF,KAAA;MACA;MACA;MACA,KAAAjB,MAAA,QAAAA,MAAA,CAAAoB,MAAA,CAAAC,CAAA,IAAAA,CAAA,KAAAJ,KAAA;IACA;IACAK,SAAA;MACA,KAAApB,KAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}