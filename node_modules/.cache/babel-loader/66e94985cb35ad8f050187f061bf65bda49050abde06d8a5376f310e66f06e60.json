{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'NonDispoComponent',\n  data() {\n    return {\n      newNonDispo: {\n        date: null,\n        time: null\n      },\n      nonDispos: [],\n      fields: [\"date\", \"time\", \"actions\"]\n    };\n  },\n  mounted() {\n    // Appeler l'endpoint pour récupérer les non-disponibilités\n    this.fetchNonDispos();\n  },\n  methods: {\n    fetchNonDispos() {\n      // Effectuer une requête HTTP pour récupérer les non-disponibilités depuis l'endpoint\n      fetch('http://127.0.0.1:8000/enseignant/nondispo/').then(response => response.json()).then(data => {\n        // Mettre à jour la liste des non-disponibilités\n        this.nonDispos = data.data;\n      }).catch(error => {\n        console.error('Une erreur s\\'est produite lors de la récupération des non-disponibilités:', error);\n      });\n    },\n    addNonDispo() {\n      // Vérifier si la date et l'heure sont sélectionnées\n      if (this.newNonDispo.date !== null && this.newNonDispo.time !== null) {\n        // Ajouter la nouvelle non-disponibilité à la liste\n        this.nonDispos.push({\n          date: this.newNonDispo.date,\n          time: this.newNonDispo.time\n        });\n        // Réinitialiser les champs de saisie\n        this.newNonDispo.date = null;\n        this.newNonDispo.time = null;\n      }\n    },\n    removeNonDispo(index) {\n      // Supprimer la non-disponibilité sélectionnée de la liste\n      this.nonDispos.splice(index, 1);\n    }\n  }\n};","map":{"version":3,"names":["name","data","newNonDispo","date","time","nonDispos","fields","mounted","fetchNonDispos","methods","fetch","then","response","json","catch","error","console","addNonDispo","push","removeNonDispo","index","splice"],"sources":["src/views/nondisponibilite.vue"],"sourcesContent":["<template>\n    <div>\n        <b-row>\n            <b-col>\n                <b-form-group label=\"Ajouter la Non Disponibilité\">\n                    <b-row>\n                        <b-col>\n                            <b-form-datepicker v-model=\"newNonDispo.date\" required></b-form-datepicker>\n                        </b-col>\n                        <b-col>\n                            <b-form-timepicker v-model=\"newNonDispo.time\" required></b-form-timepicker>\n                        </b-col>\n                        <b-col>\n                            <b-button variant=\"primary\" @click=\"addNonDispo\">Ajouter</b-button>\n                        </b-col>\n                    </b-row>\n                </b-form-group>\n            </b-col>\n        </b-row>\n        <br><br><br>\n        <b-table :items=\"nonDispos\" :fields=\"fields\">\n            <template #cell(actions)=\"row\">\n                <b-button size=\"sm\" variant=\"danger\" @click=\"removeNonDispo(row.index)\">\n                    Supprimer\n                </b-button>\n            </template>\n        </b-table>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'NonDispoComponent',\n\n    data() {\n        return {\n            newNonDispo: {\n                date: null,\n                time: null\n            },\n            nonDispos: [],\n            fields: [\"date\", \"time\", \"actions\"],\n        };\n    },\n    mounted() {\n        // Appeler l'endpoint pour récupérer les non-disponibilités\n        this.fetchNonDispos();\n    },\n    methods: {\n        fetchNonDispos() {\n            // Effectuer une requête HTTP pour récupérer les non-disponibilités depuis l'endpoint\n            fetch('http://127.0.0.1:8000/enseignant/nondispo/')\n                .then(response => response.json())\n                .then(data => {\n                    // Mettre à jour la liste des non-disponibilités\n                    this.nonDispos = data.data;\n                })\n                .catch(error => {\n                    console.error('Une erreur s\\'est produite lors de la récupération des non-disponibilités:', error);\n                });\n        },\n        addNonDispo() {\n            // Vérifier si la date et l'heure sont sélectionnées\n            if (this.newNonDispo.date !== null && this.newNonDispo.time !== null) {\n                // Ajouter la nouvelle non-disponibilité à la liste\n                this.nonDispos.push({\n                    date: this.newNonDispo.date,\n                    time: this.newNonDispo.time\n                });\n                // Réinitialiser les champs de saisie\n                this.newNonDispo.date = null;\n                this.newNonDispo.time = null;\n            }\n        },\n        removeNonDispo(index) {\n            // Supprimer la non-disponibilité sélectionnée de la liste\n            this.nonDispos.splice(index, 1);\n        },\n    }\n};\n</script>\n"],"mappings":";AA+BA;EACAA,IAAA;EAEAC,KAAA;IACA;MACAC,WAAA;QACAC,IAAA;QACAC,IAAA;MACA;MACAC,SAAA;MACAC,MAAA;IACA;EACA;EACAC,QAAA;IACA;IACA,KAAAC,cAAA;EACA;EACAC,OAAA;IACAD,eAAA;MACA;MACAE,KAAA,+CACAC,IAAA,CAAAC,QAAA,IAAAA,QAAA,CAAAC,IAAA,IACAF,IAAA,CAAAV,IAAA;QACA;QACA,KAAAI,SAAA,GAAAJ,IAAA,CAAAA,IAAA;MACA,GACAa,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,+EAAAA,KAAA;MACA;IACA;IACAE,YAAA;MACA;MACA,SAAAf,WAAA,CAAAC,IAAA,kBAAAD,WAAA,CAAAE,IAAA;QACA;QACA,KAAAC,SAAA,CAAAa,IAAA;UACAf,IAAA,OAAAD,WAAA,CAAAC,IAAA;UACAC,IAAA,OAAAF,WAAA,CAAAE;QACA;QACA;QACA,KAAAF,WAAA,CAAAC,IAAA;QACA,KAAAD,WAAA,CAAAE,IAAA;MACA;IACA;IACAe,eAAAC,KAAA;MACA;MACA,KAAAf,SAAA,CAAAgB,MAAA,CAAAD,KAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}